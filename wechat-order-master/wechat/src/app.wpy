<style lang="less">
@import "./style/weui.wxss";
/**字体图标**/

@font-face {
    font-family: 'iconfont';
    src: url(data:font/truetype;charset=utf-8;base64,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) format('truetype');
    font-weight: normal;
    font-style: normal;
}

.iconfont {
  font-family:"iconfont" !important;
  font-size:16px;
  font-style:normal;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
.icon-gouwuchekong:before { content: "\e601"; }

.icon-msnui-sub:before { content: "\e6b9"; }

.icon-weibiaoti103:before { content: "\e61c"; }

.icon-xuanze:before { content: "\e64a"; }

.icon-jian:before { content: "\e643"; }

.icon-weizhi:before { content: "\e628"; }

.icon-shijianzhongbiao2:before { content: "\e811"; }

.icon-dianzan:before { content: "\e615"; }

.icon-tianjia:before { content: "\e634"; }

.icon-renminbi2:before { content: "\e73d"; }

.icon-z-nolike:before { content: "\e6c0"; }

.icon-jian1:before { content: "\e6aa"; }

.icon-webicon308:before { content: "\e69d"; }

.icon-webicon310:before { content: "\e6a1"; }

.icon-qian2:before { content: "\e640"; }

.icon-shanchu:before { content: "\e603"; }

.icon-fanhui:before { content: "\e600"; }

.icon-gengduo:before { content: "\e602"; }

.icon-xuanze_green:before { content: "\e7ad"; }

.icon-paixu-shuliangjiangxu:before { content: "\e75e"; }

.icon-paixu-shuliangshengxu:before { content: "\e75f"; }


/************************/
  page{
    background-color: #efeff4;
  }
.container {
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between;
  box-sizing: border-box;
}
.imgicon{
  height: 1em;
  width:1em;
}

// 颜色
.color-red{
  color: red !important;
}
.color-yellow{
  color: orange !important;
}
.color-blue{
  color: #049BFF !important;
}
.color-green{
  color: #fb7299 !important;
}
.color-333{
  color: #333 !important;
}
.color-666{
  color: #666 !important;
}
.color-gray{
  color:#626E7A !important;
}
.color-999{
  color: #999 !important;
}
.color-ccc{
  color: #ccc !important;
}
.bg-ccc{
  background-color: #ccc !important;
}
.color-bbb{
  color: #bbb !important;
}
.bg-bbb{
  background-color: #bbb !important;
}
.color-ddd{
  color: #ddd !important;
}
.bg-ddd{
  background-color: #ddd !important;
}
.color-pink{
  color:#FF5577 !important;
}
.size-xl{
  font-size:22px !important;
}
.size-l{
  font-size:18px !important;
}
.size-s{
  font-size:14px !important;
}
</style>

<script>
import wepy from 'wepy'
import 'wepy-async-function'

import { createStore } from 'redux'
import { setStore } from 'wepy-redux'
import configStore from './store'

const store = configStore()
setStore(store)

export default class extends wepy.app {
  config = {
    pages: [
      'pages/order',
      'pages/submit',
      'pages/address',
      'pages/status'
    ],
    window: {
      backgroundTextStyle: 'light',
      navigationBarBackgroundColor: '#fb7299',
      navigationBarTitleText: '订餐小程序',
      navigationBarTextStyle: '#fff'
    }
  }

  globalData = {
    userInfo: null,
    code:''
  }

  constructor () {
    super()
    this.use('promisify')
    this.use('requestfix')
    //构建拦截器
    // this.intercept('request', {
    //     config (p) {
    //       p.header = this.code;
    //       return p;
    //     }
    //   });
  }

  async onLaunch() {
    this.loginwexin()
  }

  async loginwexin(){
     wepy.login().then((res)=>{
      this.code = res.code ;
      wepy.getUserInfo().then((res)=>{
       console.log(res.userInfo)
          this.userInfo = res.userInfo ;
      })
     })
  }

}
</script>

